extends layout.pug
include includes/header.pug
include utils.pug
append head
    link(rel='stylesheet' href='/stylesheets/cheers.css')
    script(src='../javascripts/cheers.js')
    script(src='/javascripts/comments.js')
block content
    .story.container
        .story.title.container
            h1.title.text= story.title
        .story.subheader.container
            h3.subheader.text= story.subheader
        .story.rating.container
            h5.rating#rating= avgRating
        .story.image.container
            img.story.image.content(src=story.imgPath)
        .story.profile.social.container
            img.profile.picture(src=story.authorId.profilePic)
            p.profile.firstname= story.User.firstName
            p.story.createdDate= story.createdAt
            img.social.twitter(src="/assets/twitter")
            img.social.linkedIn(src="/assets/linkedIn")
            img.social.facebook(src="/assets/facebook")
            img.social.linkedIn(src="/assets/linkedIn")
        .story.body-text-container
            p= story.body
        .story.cheers.container
            form.rating#rating-container(action=`/stories/${story.id}/cheers` method="post")
                label(for="5" id=`5|${userId}|${story.id}`)
                label(for="4" id=`4|${userId}|${story.id}`)
                label(for="3" id=`3|${userId}|${story.id}`)
                label(for="2" id=`2|${userId}|${story.id}`)
                label(for="1" id=`1|${userId}|${story.id}`)
        .story.footer.container
            each comment in story.Comments
                p= comment.comment
            form#comment-field(action=`/stories/${story.id}` method='post')
                label(for='comment') Add a comment
                div
                    textarea(type='text' name='comment' required)
                div
                    button(type='submit' id='comment-button' value=`${userId}|${story.id}`) Comment
